<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Developer Guide - First Paying Customer Setup</title>
    <style>
        body {
            font-family: 'Calibri', 'Arial', sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            color: #333;
        }
        h1 {
            color: #1e293b;
            border-bottom: 3px solid #1e293b;
            padding-bottom: 10px;
            font-size: 28px;
        }
        h2 {
            color: #334155;
            margin-top: 30px;
            font-size: 22px;
            border-bottom: 2px solid #cbd5e1;
            padding-bottom: 5px;
        }
        h3 {
            color: #475569;
            margin-top: 25px;
            font-size: 18px;
        }
        h4 {
            color: #64748b;
            margin-top: 20px;
            font-size: 16px;
        }
        code {
            background-color: #f1f5f9;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 14px;
        }
        pre {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-left: 4px solid #1e293b;
            padding: 15px;
            overflow-x: auto;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
        }
        ul, ol {
            margin-left: 20px;
        }
        li {
            margin-bottom: 8px;
        }
        strong {
            color: #1e293b;
        }
        hr {
            border: none;
            border-top: 2px solid #e2e8f0;
            margin: 30px 0;
        }
        .checklist {
            list-style: none;
            margin-left: 0;
        }
        .checklist li:before {
            content: "☐ ";
            margin-right: 8px;
        }
        .checklist li.complete:before {
            content: "☑ ";
        }
        blockquote {
            border-left: 4px solid #cbd5e1;
            padding-left: 15px;
            margin-left: 0;
            color: #64748b;
            font-style: italic;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f1f5f9;
            font-weight: bold;
        }
    </style>
</head>
<body>

<h1>Developer Guide - First Paying Customer Setup</h1>

<p><strong>Version:</strong> 2.0.0<br>
<strong>Last Updated:</strong> Latest<br>
<strong>Purpose:</strong> Complete step-by-step technical guide for developer to get application ready for first paying customer</p>

<hr>

<h2>Table of Contents</h2>

<ol>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#phase1">Phase 1: Infrastructure Setup</a></li>
    <li><a href="#phase2">Phase 2: Backend Deployment</a></li>
    <li><a href="#phase3">Phase 3: Frontend Configuration</a></li>
    <li><a href="#phase4">Phase 4: Monitoring Setup</a></li>
    <li><a href="#phase5">Phase 5: Testing & Verification</a></li>
    <li><a href="#phase6">Phase 6: Launch Readiness</a></li>
    <li><a href="#troubleshooting">Troubleshooting</a></li>
    <li><a href="#quick-reference">Quick Reference</a></li>
</ol>

<hr>

<h2 id="overview">Overview</h2>

<p>This guide provides step-by-step instructions for deploying Local Password Vault to production and getting ready for the first paying customer.</p>

<p><strong>Prerequisites (Already Complete):</strong></p>
<ul>
    <li>✅ Linode server provisioned and configured</li>
    <li>✅ Supabase database project created</li>
    <li>✅ Stripe products created</li>
</ul>

<hr>

<h2 id="phase1">Phase 1: Infrastructure Setup</h2>

<p><strong>Note:</strong> Linode server and Supabase database are already set up. This phase focuses on verifying access and getting credentials.</p>

<h3>1.1 Server Access & Verification</h3>

<h4>Step 1: Verify Server Access</h4>
<ul>
    <li>Get SSH access credentials from product owner</li>
    <li>SSH into server:</li>
</ul>
<pre><code>ssh root@your-server-ip
# or
ssh user@your-server-ip</code></pre>

<h4>Step 2: Verify Base Software Installed</h4>
<pre><code># Check Node.js version (should be 18+)
node --version

# Check PM2 installed
pm2 --version

# Check Nginx installed
nginx -v</code></pre>

<p>If any are missing, install:</p>
<pre><code># Install Node.js 18+ (if needed)
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt-get install -y nodejs

# Install PM2 (if needed)
npm install -g pm2

# Install Nginx (if needed)
apt-get update
apt-get install -y nginx</code></pre>

<h4>Step 3: Verify SSL Certificate</h4>
<pre><code># Check if SSL certificate exists
certbot certificates

# If not installed, install:
apt-get install -y certbot python3-certbot-nginx
certbot --nginx -d api.localpasswordvault.com</code></pre>

<h4>Step 4: Verify Domain Configuration</h4>
<ul>
    <li>Verify domain points to server: <code>nslookup api.localpasswordvault.com</code></li>
    <li>Test health endpoint: <code>curl https://api.localpasswordvault.com/health</code> (may not work yet if backend not deployed)</li>
</ul>

<p><strong>Reference:</strong> <code>docs/PRODUCTION_DEPLOYMENT.md</code> - Section 2</p>

<hr>

<h3>1.2 Database Access & Verification</h3>

<p><strong>Note:</strong> Supabase project is already created. You need to get credentials and verify schema.</p>

<h4>Step 1: Get Supabase Credentials</h4>
<ol>
    <li>Ask product owner for Supabase access or credentials</li>
    <li>Go to: <a href="https://app.supabase.com">https://app.supabase.com</a></li>
    <li>Select existing project</li>
    <li>Go to Settings → API</li>
    <li>Copy:
        <ul>
            <li><strong>Project URL</strong>: <code>https://xxxxx.supabase.co</code></li>
            <li><strong>Service Role Key</strong>: <code>eyJhbGc...</code> (NOT anon key - use service role)</li>
        </ul>
    </li>
    <li>Save for <code>.env</code> file</li>
</ol>

<h4>Step 2: Verify Database Schema</h4>
<ol>
    <li>Go to SQL Editor in Supabase Dashboard</li>
    <li>Check if tables exist:
        <ul>
            <li>Go to Table Editor</li>
            <li>Verify tables: <code>licenses</code>, <code>customers</code>, etc.</li>
        </ul>
    </li>
    <li>If tables don't exist:
        <ul>
            <li>Open <code>backend/database/schema.sql</code></li>
            <li>Copy entire schema</li>
            <li>Paste into SQL Editor</li>
            <li>Click "Run" or press F5</li>
            <li>Verify tables created</li>
        </ul>
    </li>
</ol>

<p><strong>Reference:</strong> <code>docs/PRODUCTION_LAUNCH_GUIDE.md</code> - Step 1</p>

<hr>

<h3>1.3 Payment Processing (Stripe)</h3>

<p><strong>Note:</strong> Products are already created in Stripe. You need to get API keys and set up webhook.</p>

<h4>Step 1: Access Stripe Dashboard</h4>
<ol>
    <li>Get Stripe account access from product owner</li>
    <li>Go to: <a href="https://dashboard.stripe.com">https://dashboard.stripe.com</a></li>
    <li>Verify you're in <strong>LIVE mode</strong> (not test mode)</li>
    <li>Switch to LIVE mode if needed (toggle in top right)</li>
</ol>

<h4>Step 2: Get Product Price IDs</h4>
<ol>
    <li>Go to: Products</li>
    <li>Find and copy Price IDs for:
        <ul>
            <li><strong>Personal Vault</strong> ($49) → Price ID: <code>price_xxxxx</code></li>
            <li><strong>Family Vault</strong> ($79) → Price ID: <code>price_xxxxx</code></li>
            <li><strong>Local Legacy Vault - Personal</strong> ($49) → Price ID: <code>price_xxxxx</code></li>
            <li><strong>Local Legacy Vault - Family</strong> ($129) → Price ID: <code>price_xxxxx</code></li>
        </ul>
    </li>
    <li>Save all Price IDs for <code>.env</code> file</li>
</ol>

<h4>Step 3: Get API Keys</h4>
<ol>
    <li>Go to: Developers → API keys</li>
    <li>Copy:
        <ul>
            <li><strong>Secret Key</strong>: <code>sk_live_xxxxx</code> (keep this secret!)</li>
            <li><strong>Publishable Key</strong>: <code>pk_live_xxxxx</code></li>
        </ul>
    </li>
    <li>Save for <code>.env</code> file</li>
</ol>

<h4>Step 4: Set Up Webhook</h4>
<ol>
    <li>Go to: Developers → Webhooks</li>
    <li>Check if webhook endpoint already exists:
        <ul>
            <li>Look for: <code>https://api.localpasswordvault.com/api/webhooks/stripe</code></li>
        </ul>
    </li>
    <li>If not exists, create:
        <ul>
            <li>Click "Add endpoint"</li>
            <li>Endpoint URL: <code>https://api.localpasswordvault.com/api/webhooks/stripe</code></li>
            <li>Events to send:
                <ul>
                    <li><code>checkout.session.completed</code></li>
                    <li><code>payment_intent.succeeded</code></li>
                </ul>
            </li>
            <li>Click "Add endpoint"</li>
        </ul>
    </li>
    <li>Copy <strong>Signing secret</strong>: <code>whsec_xxxxx</code></li>
    <li>Save for <code>.env</code> file</li>
</ol>

<p><strong>Reference:</strong> <code>docs/PRODUCTION_LAUNCH_GUIDE.md</code> - Step 3</p>

<p><strong>Cost:</strong> 2.9% + $0.30 per transaction</p>

<hr>

<h3>1.4 Email Service (Brevo)</h3>

<p><strong>Note:</strong> Brevo account is already set up. You need to get the API key and verify connection.</p>

<p><strong>Important:</strong> The backend uses its own HTML templates from <code>backend/templates/</code> directory. <strong>Do NOT use Brevo templates.</strong> The backend sends HTML directly via Brevo API.</p>

<h4>Step 1: Get Brevo API Key</h4>
<ol>
    <li>Get Brevo account access from product owner</li>
    <li>Go to: <a href="https://app.brevo.com">https://app.brevo.com</a></li>
    <li>Navigate to: Settings → SMTP & API → API Keys</li>
    <li>Find existing API key or create new one:
        <ul>
            <li>Click "Generate a new API key" (if needed)</li>
            <li>Name: "Local Password Vault"</li>
            <li>Permissions: "Send emails"</li>
        </ul>
    </li>
    <li>Copy key: <code>xkeysib-xxxxx</code></li>
    <li>Save for <code>.env</code> file</li>
</ol>

<h4>Step 2: Verify Sender Domain (If Not Already Done)</h4>
<ol>
    <li>Go to: Senders & IP → Domains</li>
    <li>Check if <code>localpasswordvault.com</code> is verified</li>
    <li>If not verified:
        <ul>
            <li>Add domain: <code>localpasswordvault.com</code></li>
            <li>Add DNS records (SPF, DKIM) to your DNS provider</li>
            <li>Wait for verification (up to 48 hours)</li>
        </ul>
    </li>
</ol>

<h4>Step 3: Verify Email Addresses</h4>
<ul>
    <li>Confirm these email addresses are set up:
        <ul>
            <li><code>noreply@localpasswordvault.com</code></li>
            <li><code>support@localpasswordvault.com</code></li>
        </ul>
    </li>
</ul>

<h4>Step 4: Remove/Ignore Brevo Templates (Important!)</h4>

<p><strong>The backend does NOT use Brevo templates.</strong> It uses HTML files from <code>backend/templates/</code> directory.</p>

<p><strong>Action Required:</strong></p>
<ol>
    <li>Go to Brevo Dashboard → Email Templates</li>
    <li><strong>Delete or ignore any templates</strong> you see there</li>
    <li>The backend will use its own templates:
        <ul>
            <li><code>backend/templates/purchase-confirmation-email.html</code></li>
            <li><code>backend/templates/trial-welcome-email.html</code></li>
            <li><code>backend/templates/bundle-email.html</code></li>
            <li><code>backend/templates/trial-expires-tomorrow-email.html</code></li>
            <li><code>backend/templates/trial-expired-email.html</code></li>
        </ul>
    </li>
</ol>

<p><strong>Why:</strong> The backend loads HTML templates from the filesystem and sends them directly via Brevo API. Using Brevo templates would require code changes and is not recommended.</p>

<p><strong>Reference:</strong> <code>docs/PRODUCTION_LAUNCH_GUIDE.md</code> - Step 4</p>

<p><strong>Cost:</strong> Free tier (300/day), then ~$15/month</p>

<hr>

<h2 id="phase2">Phase 2: Backend Deployment</h2>

<h3>2.1 Environment Configuration</h3>

<h4>Step 1: Create Backend Directory</h4>
<pre><code>mkdir -p /var/www/lpv-api
cd /var/www/lpv-api</code></pre>

<h4>Step 2: Upload Backend Code</h4>
<ul>
    <li>Use Git: <code>git clone &lt;repo-url&gt; backend</code></li>
    <li>Or SCP: <code>scp -r backend/ root@server:/var/www/lpv-api/</code></li>
    <li>Or deployment tool (GitHub Actions, etc.)</li>
</ul>

<h4>Step 3: Create .env File</h4>
<pre><code>cd /var/www/lpv-api/backend
nano .env</code></pre>

<p>Copy from <code>backend/env.example</code> and fill in:</p>

<pre><code># Server
NODE_ENV=production
PORT=3001

# Database (from Supabase)
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGc...

# License Signing Secret (Required - generate: openssl rand -hex 32)
# Used to sign license files and trial files for offline validation
# All validation uses HMAC-SHA256 signed files (not JWT)
# Same secret must be set in frontend VITE_LICENSE_SIGNING_SECRET
LICENSE_SIGNING_SECRET=&lt;generate: openssl rand -hex 32&gt;

# Stripe (LIVE keys from Stripe Dashboard)
STRIPE_SECRET_KEY=sk_live_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx
STRIPE_PRICE_PERSONAL=price_xxxxx
STRIPE_PRICE_FAMILY=price_xxxxx
STRIPE_PRICE_LLV_PERSONAL=price_xxxxx
STRIPE_PRICE_LLV_FAMILY=price_xxxxx

# Email (from Brevo)
BREVO_API_KEY=xkeysib-xxxxx
FROM_EMAIL=noreply@localpasswordvault.com
SUPPORT_EMAIL=support@localpasswordvault.com

# Website
WEBSITE_URL=https://localpasswordvault.com

# Optional: Sentry
SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx</code></pre>

<h4>Step 4: Set File Permissions</h4>
<pre><code>chmod 600 .env</code></pre>

<h4>Step 5: Validate Environment</h4>
<pre><code>node scripts/validate-env.js</code></pre>

<p>Should show: ✅ All environment variables valid</p>

<p><strong>Reference:</strong> <code>backend/env.example</code> and <code>docs/PRODUCTION_QUICK_REFERENCE.md</code></p>

<hr>

<h3>2.2 Deploy Backend Code</h3>

<h4>Step 1: Install Dependencies</h4>
<pre><code>cd /var/www/lpv-api/backend
npm install --production</code></pre>

<h4>Step 2: Test Server Starts</h4>
<pre><code>node server.js</code></pre>

<p>Should see: "Server running on port 3001"</p>

<p>Press Ctrl+C to stop.</p>

<h4>Step 3: Start with PM2</h4>
<pre><code>pm2 start server.js --name lpv-api
pm2 save
pm2 startup  # Enable auto-start on reboot</code></pre>

<h4>Step 4: Check Status</h4>
<pre><code>pm2 status
pm2 logs lpv-api</code></pre>

<p>Should show: <code>online</code> status</p>

<hr>

<h3>2.3 Configure Nginx</h3>

<h4>Step 1: Create Nginx Config</h4>
<pre><code>nano /etc/nginx/sites-available/lpv-api</code></pre>

<p>Add:</p>
<pre><code>server {
    listen 80;
    server_name api.localpasswordvault.com;
    
    # Redirect HTTP to HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name api.localpasswordvault.com;

    ssl_certificate /etc/letsencrypt/live/api.localpasswordvault.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/api.localpasswordvault.com/privkey.pem;

    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;

    # Proxy to Node.js
    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}</code></pre>

<h4>Step 2: Enable Site</h4>
<pre><code>ln -s /etc/nginx/sites-available/lpv-api /etc/nginx/sites-enabled/
nginx -t  # Test configuration
systemctl reload nginx</code></pre>

<h4>Step 3: Test Health Endpoint</h4>
<pre><code>curl https://api.localpasswordvault.com/health</code></pre>

<p>Should return: <code>{"status":"ok"}</code></p>

<p><strong>Reference:</strong> <code>docs/PRODUCTION_DEPLOYMENT.md</code> - Section 7</p>

<hr>

<h2 id="phase3">Phase 3: Frontend Configuration</h2>

<h3>3.1 Environment Configuration</h3>

<h4>Step 1: Create .env.production File</h4>
<pre><code>cd /path/to/LocalPasswordVault
nano .env.production</code></pre>

<p>Add:</p>
<pre><code># License Server
VITE_LICENSE_SERVER_URL=https://api.localpasswordvault.com
VITE_LICENSE_SIGNING_SECRET=&lt;same as backend LICENSE_SIGNING_SECRET&gt;

# Stripe
VITE_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxx

# Optional: Sentry
VITE_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# App
VITE_APP_MODE=production
VITE_APP_VERSION=1.2.0</code></pre>

<p><strong>Important:</strong> <code>VITE_LICENSE_SIGNING_SECRET</code> must match backend <code>LICENSE_SIGNING_SECRET</code></p>

<hr>

<h3>3.2 Build Production Version</h3>

<h4>Step 1: Install Dependencies</h4>
<pre><code>npm install</code></pre>

<h4>Step 2: Build Production</h4>
<pre><code>npm run build:prod</code></pre>

<p>This creates <code>dist/</code> folder with production build.</p>

<h4>Step 3: Verify Build</h4>
<pre><code>ls -la dist/</code></pre>

<p>Should see: <code>index.html</code>, <code>assets/</code> folder</p>

<hr>

<h3>3.3 Create Download Package</h3>

<h4>Step 1: Follow Package Guide</h4>
<p>See: <code>docs/DOWNLOAD_PACKAGE_GUIDE.md</code></p>

<h4>Step 2: Create ZIP Package</h4>
<p>Package should include:</p>
<ul>
    <li><code>index.html</code></li>
    <li><code>assets/</code> folder</li>
    <li><code>LICENSE.txt</code></li>
    <li><code>README.txt</code></li>
</ul>

<h4>Step 3: Host Package</h4>
<ul>
    <li>Upload to website or CDN</li>
    <li>Update download links in email templates</li>
</ul>

<p><strong>Reference:</strong> <code>docs/DOWNLOAD_PACKAGE_GUIDE.md</code></p>

<hr>

<h2 id="phase4">Phase 4: Monitoring Setup</h2>

<h3>4.1 Sentry Error Tracking (Optional but Recommended)</h3>

<h4>Step 1: Create Sentry Account</h4>
<ol>
    <li>Go to: <a href="https://sentry.io">https://sentry.io</a></li>
    <li>Create account</li>
    <li>Create project:
        <ul>
            <li>Platform: React (for frontend)</li>
            <li>Platform: Node.js (for backend)</li>
        </ul>
    </li>
</ol>

<h4>Step 2: Get DSN</h4>
<ol>
    <li>Go to: Settings → Projects → Your Project → Client Keys (DSN)</li>
    <li>Copy DSN: <code>https://xxxxx@xxxxx.ingest.sentry.io/xxxxx</code></li>
</ol>

<h4>Step 3: Add to Environment</h4>
<ul>
    <li>Backend: Add to <code>backend/.env</code> as <code>SENTRY_DSN</code></li>
    <li>Frontend: Add to <code>.env.production</code> as <code>VITE_SENTRY_DSN</code></li>
</ul>

<h4>Step 4: Verify</h4>
<ul>
    <li>Trigger test error</li>
    <li>Check Sentry dashboard for error</li>
</ul>

<p><strong>Reference:</strong> <code>docs/SENTRY_QUICK_START.md</code></p>

<p><strong>Cost:</strong> Free tier (5,000 events/month), then ~$26/month</p>

<hr>

<h3>4.2 Uptime Monitoring</h3>

<h4>Step 1: Create UptimeRobot Account</h4>
<ol>
    <li>Go to: <a href="https://uptimerobot.com">https://uptimerobot.com</a></li>
    <li>Sign up (free)</li>
</ol>

<h4>Step 2: Add Monitor</h4>
<ol>
    <li>Click "Add New Monitor"</li>
    <li>Monitor Type: HTTP(s)</li>
    <li>Friendly Name: "Local Password Vault API"</li>
    <li>URL: <code>https://api.localpasswordvault.com/health</code></li>
    <li>Monitoring Interval: 5 minutes</li>
    <li>Alert Contacts: Your email</li>
</ol>

<h4>Step 3: Test Alert</h4>
<ul>
    <li>Stop server temporarily</li>
    <li>Verify alert email received</li>
</ul>

<p><strong>Reference:</strong> <code>docs/MONITORING_SETUP.md</code></p>

<p><strong>Cost:</strong> Free (50 monitors)</p>

<hr>

<h2 id="phase5">Phase 5: Testing & Verification</h2>

<h3>5.1 End-to-End Testing</h3>

<h4>Test 1: Purchase Flow</h4>
<ol>
    <li>Go to website</li>
    <li>Click "Buy Now"</li>
    <li>Complete Stripe checkout (use test card: 4242 4242 4242 4242)</li>
    <li>Verify email received with license key</li>
    <li>Download package</li>
    <li>Install app</li>
    <li>Enter license key</li>
    <li>Verify activation works</li>
    <li>Verify app works offline</li>
</ol>

<h4>Test 2: License Transfer</h4>
<ol>
    <li>Activate on Device A</li>
    <li>Try to activate on Device B</li>
    <li>Verify transfer dialog appears</li>
    <li>Complete transfer</li>
    <li>Verify Device B works</li>
    <li>Verify Device A no longer works</li>
</ol>

<h4>Test 3: Error Scenarios</h4>
<ul>
    <li>Invalid license key → Should show error</li>
    <li>Expired trial → Should show expiration</li>
    <li>Network failure → Should show error, allow retry</li>
    <li>Corrupted license file → Should detect and reject</li>
</ul>

<h4>Test 4: Offline Operation</h4>
<ol>
    <li>Activate license</li>
    <li>Disconnect internet</li>
    <li>Use app for 30+ minutes:
        <ul>
            <li>Add entries</li>
            <li>Edit entries</li>
            <li>Delete entries</li>
            <li>Search entries</li>
            <li>Export entries</li>
        </ul>
    </li>
    <li>Check DevTools Network tab → Should show ZERO requests</li>
</ol>

<p><strong>Reference:</strong> <code>docs/PRODUCTION_CHECKLIST.md</code> - Section 7</p>

<hr>

<h3>5.2 Production Verification</h3>

<h4>Verify All Endpoints</h4>
<pre><code># Health check
curl https://api.localpasswordvault.com/health

# License activation (should require license_key and device_id)
curl -X POST https://api.localpasswordvault.com/api/lpv/license/activate</code></pre>

<h4>Check Logs</h4>
<pre><code>pm2 logs lpv-api</code></pre>

<p>Look for:</p>
<ul>
    <li>✅ Server started successfully</li>
    <li>✅ Database connected</li>
    <li>✅ No errors</li>
</ul>

<h4>Verify Database</h4>
<ul>
    <li>Supabase Dashboard → Table Editor</li>
    <li>Check <code>licenses</code> table exists</li>
    <li>Check <code>customers</code> table exists</li>
</ul>

<h4>Verify Email</h4>
<ul>
    <li>Send test email</li>
    <li>Check Brevo dashboard for delivery</li>
</ul>

<h4>Verify Stripe Webhook</h4>
<ul>
    <li>Stripe Dashboard → Webhooks</li>
    <li>Check endpoint is receiving events</li>
</ul>

<hr>

<h2 id="phase6">Phase 6: Launch Readiness</h2>

<h3>6.1 Final Checks</h3>

<h4>Checklist</h4>
<ul class="checklist">
    <li>All environment variables set</li>
    <li>All services configured (Stripe, Brevo, Supabase)</li>
    <li>SSL certificate valid</li>
    <li>Health endpoint responding</li>
    <li>Download package available</li>
    <li>Email templates tested</li>
    <li>Monitoring active</li>
    <li>Error tracking active (if using Sentry)</li>
    <li>End-to-end test passed</li>
    <li>Offline operation verified</li>
</ul>

<hr>

<h3>6.2 Documentation</h3>

<h4>Verify Documentation Available</h4>
<ul class="checklist">
    <li>User manual: <code>docs/user-manual.html</code></li>
    <li>Quick start: <code>docs/quick-start.html</code></li>
    <li>Troubleshooting: <code>docs/troubleshooting.html</code></li>
    <li>Host on website or link from support pages</li>
</ul>

<hr>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3>Server Won't Start</h3>

<p><strong>Check environment:</strong></p>
<pre><code>cd backend
node scripts/validate-env.js</code></pre>

<p><strong>Check port:</strong></p>
<pre><code>lsof -i :3001</code></pre>

<p><strong>Check logs:</strong></p>
<pre><code>pm2 logs lpv-api</code></pre>

<hr>

<h3>Database Connection Failed</h3>

<p><strong>Check Supabase:</strong></p>
<ol>
    <li>Verify <code>SUPABASE_URL</code> is correct</li>
    <li>Verify <code>SUPABASE_SERVICE_KEY</code> is service role key (not anon key)</li>
    <li>Check Supabase dashboard for connection issues</li>
</ol>

<hr>

<h3>Stripe Webhook Not Working</h3>

<p><strong>Check webhook:</strong></p>
<ol>
    <li>Stripe Dashboard → Webhooks</li>
    <li>Check endpoint URL is correct</li>
    <li>Check webhook secret matches <code>.env</code></li>
    <li>Test webhook manually</li>
</ol>

<hr>

<h3>Email Not Sending</h3>

<p><strong>Check Brevo:</strong></p>
<ol>
    <li>Verify API key is correct</li>
    <li>Check Brevo dashboard for delivery status</li>
    <li>Verify sender domain (if using custom domain)</li>
    <li>Check email limits (300/day free tier)</li>
</ol>

<hr>

<h2 id="quick-reference">Quick Reference</h2>

<h3>Essential Commands</h3>

<p><strong>Server Management:</strong></p>
<pre><code># Check status
pm2 status

# View logs
pm2 logs lpv-api

# Restart
pm2 restart lpv-api

# Check health
curl https://api.localpasswordvault.com/health</code></pre>

<p><strong>Environment Validation:</strong></p>
<pre><code>cd backend
node scripts/validate-env.js</code></pre>

<p><strong>Build Frontend:</strong></p>
<pre><code>npm run build:prod</code></pre>

<hr>

<h3>Essential Files</h3>

<p><strong>Backend:</strong></p>
<ul>
    <li><code>backend/.env</code> - Environment variables</code></li>
    <li><code>backend/server.js</code> - Main server file</code></li>
    <li><code>backend/scripts/validate-env.js</code> - Environment validator</code></li>
</ul>

<p><strong>Frontend:</strong></p>
<ul>
    <li><code>.env.production</code> - Production environment variables</code></li>
    <li><code>dist/</code> - Production build output</code></li>
</ul>

<hr>

<h3>Essential Links</h3>

<p><strong>Services:</strong></p>
<ul>
    <li>Supabase: <a href="https://app.supabase.com">https://app.supabase.com</a></li>
    <li>Stripe: <a href="https://dashboard.stripe.com">https://dashboard.stripe.com</a></li>
    <li>Brevo: <a href="https://app.brevo.com">https://app.brevo.com</a></li>
    <li>Sentry: <a href="https://sentry.io">https://sentry.io</a></li>
    <li>UptimeRobot: <a href="https://uptimerobot.com">https://uptimerobot.com</a></li>
</ul>

<p><strong>Documentation:</strong></p>
<ul>
    <li>Production Deployment: <code>docs/PRODUCTION_DEPLOYMENT.md</code></li>
    <li>Quick Reference: <code>docs/PRODUCTION_QUICK_REFERENCE.md</code></li>
    <li>Monitoring: <code>docs/MONITORING_SETUP.md</code></li>
</ul>

<hr>

<h2>Success Criteria</h2>

<h3>Ready for First Paying Customer When:</h3>

<ul class="checklist">
    <li class="complete">Server access verified (Linode already set up)</li>
    <li class="complete">Database credentials obtained (Supabase already set up)</li>
    <li class="complete">Stripe API keys obtained (Products already created)</li>
    <li class="complete">Email service configured</li>
    <li class="complete">Backend API deployed and responding</li>
    <li class="complete">Frontend built and packaged</li>
    <li class="complete">End-to-end test passed</li>
    <li class="complete">Offline operation verified</li>
    <li class="complete">Monitoring active</li>
    <li class="complete">Documentation available</li>
</ul>

<hr>

<h2>Quick Start (If Infrastructure Already Set Up)</h2>

<p><strong>If Linode, Supabase, and Stripe products are already configured:</strong></p>

<ol>
    <li><strong>Get Credentials</strong>
        <ul>
            <li>Get Supabase URL and Service Role Key</li>
            <li>Get Stripe API keys and Price IDs</li>
            <li>Get Stripe webhook signing secret</li>
            <li>Get server SSH access</li>
        </ul>
    </li>
    <li><strong>Deploy Backend</strong>
        <ul>
            <li>See Phase 2: Backend Deployment</li>
        </ul>
    </li>
    <li><strong>Build Frontend</strong>
        <ul>
            <li>See Phase 3: Frontend Configuration</li>
        </ul>
    </li>
    <li><strong>Set Up Monitoring</strong>
        <ul>
            <li>See Phase 4: Monitoring Setup</li>
        </ul>
    </li>
    <li><strong>Test Everything</strong>
        <ul>
            <li>See Phase 5: Testing & Verification</li>
        </ul>
    </li>
</ol>

<hr>

<p><strong>This guide provides complete technical steps for developer. For product owner management guide, see <code>PRODUCT_OWNER.md</code>.</strong></p>

</body>
</html>

